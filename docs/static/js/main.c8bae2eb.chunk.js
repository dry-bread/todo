(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{128:function(e,t,a){},176:function(e,t,a){e.exports=a.p+"static/media/addMoreEventLogo.c2af93ec.svg"},193:function(e,t,a){e.exports=a(350)},198:function(e,t,a){},199:function(e,t,a){},350:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),o=a.n(l),c=(a(198),a(128),a(96),a(81)),i=a(54),s=a(359),m=a(358),u=a(364),d=a(355),f=a(47),v=a(373),E=a(374),p=(a(199),a(39)),h=function(){var e={wrapperCol:{offset:14}},t=Object(p.f)();return r.a.createElement(c.a,{gutter:16,align:"middle",style:{height:"100vh"}},r.a.createElement(i.a,{span:8,offset:8},r.a.createElement(s.a,{title:"\u767b\u5f55",style:{opacity:"0.95"}},r.a.createElement(m.a,Object.assign({name:"normal_login",className:"login-form",onFinish:function(e){alert(JSON.stringify(e))}},{wrapperCol:{offset:2,span:20}}),r.a.createElement(m.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]},r.a.createElement(u.a,{prefix:r.a.createElement(v.a,{className:"site-form-item-icon"}),placeholder:"\u7528\u6237\u540d"})),r.a.createElement(m.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},r.a.createElement(u.a,{prefix:r.a.createElement(E.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u5bc6\u7801"})),r.a.createElement(m.a.Item,null,r.a.createElement("a",{className:"login-form-forgot",href:""},"\u5fd8\u8bb0\u5bc6\u7801")),r.a.createElement(m.a.Item,e,r.a.createElement(d.a,null,r.a.createElement(f.a,{type:"default",onClick:function(){t.push("/todo")}},"\u6682\u4e0d\u767b\u5f55"),r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55")))))))},y=a(94),g=a(38),b=a(70),T=a(360),k=a(182),O=a(362),S=a(371),j=a(22),I=a.n(j),w=(a(161),a(176)),C=a.n(w),x=a(368);I.a.locale("zh-cn");var F=b.a.Option,N=u.a.TextArea,D=function(e){var t=e.addTasks,a=Object(n.useState)(I()()),l=Object(g.a)(a,2),o=l[0],c=l[1],i=Object(n.useState)(!1),s=Object(g.a)(i,2),d=s[0],v=s[1],E=Object(n.useState)(!1),p=Object(g.a)(E,2),h=p[0],y=p[1],j=m.a.useForm(),w=Object(g.a)(j,1)[0],D={wrapperCol:{offset:18,span:16}};function P(e){return e&&I()(e).isBefore(o,"days")}return r.a.createElement("div",null,r.a.createElement("img",{src:C.a,draggable:!0,className:"AddMoreEvent-logo",alt:"\u70b9\u6b64\u6dfb\u52a0\u4e8b\u4ef6",title:"\u6dfb\u52a0\u4e8b\u4ef6",onClick:function(){return v(!d)},style:d?{transform:"rotate(45deg)"}:{transform:"rotate(0deg)"}}),r.a.createElement(T.a,{title:"\u6dfb\u52a0\u65b0\u4e8b\u4ef6",visible:d,onOk:function(){y(!0),setTimeout((function(){v(!1),y(!1)}),1e3)},onCancel:function(){v(!1)},footer:null},r.a.createElement(k.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:h},r.a.createElement(m.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{name:"NewEventInfo",onFinish:function(e){e.id=Object(x.a)(),y(!0),new Promise((function(a,n){t(e),a()})).then((function(e){v(!1),y(!1),w.resetFields()}),(function(e){console.log(e),alert("Fail")}))},onFinishFailed:function(e){alert("Failed : "+e)},form:w}),r.a.createElement(m.a.Item,{label:"\u6807\u9898",name:"eventTitle",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e8b\u4ef6\u6807\u9898"}]},r.a.createElement(u.a,null)),r.a.createElement(m.a.Item,{label:"\u5f00\u59cb\u65f6\u95f4",name:"eventStartTime",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e8b\u4ef6\u5f00\u59cb\u65f6\u95f4"}]},r.a.createElement(O.a,{disabledDate:function(e){return e&&I()(e).isBefore(I()(),"days")},value:o,onChange:function(e){return c(e)},showToday:!0})),r.a.createElement(m.a.Item,{label:"\u4e8b\u4ef6\u7c7b\u578b",name:"eventType",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e8b\u4ef6\u7c7b\u578b"}]},r.a.createElement(b.a,{placeholder:"\u9009\u62e9\u4e8b\u4ef6\u7c7b\u578b"},r.a.createElement(F,{value:"shortTermTask"},"\u77ed\u671f\u4efb\u52a1"),r.a.createElement(F,{value:"longTermPlan"},"\u957f\u671f\u8ba1\u5212"))),r.a.createElement(m.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.eventType!==t.eventType}},(function(e){return"shortTermTask"===(0,e.getFieldValue)("eventType")?r.a.createElement(m.a.Item,{label:"\u7ed3\u675f\u65f6\u95f4",name:"eventEndTime",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u622a\u6b62\u65e5\u671f\u4e0e\u65f6\u95f4"}]},r.a.createElement(O.a,{showTime:!0,disabledDate:P})):null})),r.a.createElement(m.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.eventType!==t.eventType}},(function(e){return"shortTermTask"===(0,e.getFieldValue)("eventType")?r.a.createElement(m.a.Item,{label:"\u9884\u4f30\u6240\u9700\u65f6\u957f",name:"eventDuration",rules:[{required:!1}]},r.a.createElement(S.a,{min:0,step:.5,defaultValue:2})):null})),r.a.createElement(m.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.eventType!==t.eventType}},(function(e){return"longTermPlan"===(0,e.getFieldValue)("eventType")?r.a.createElement(m.a.Item,{label:"\u6253\u5361\u5468\u671f",name:"eventPeriod",rules:[{required:!0}]},r.a.createElement(b.a,{placeholder:"\u6bcf\u5929/\u6bcf\u5468/\u6bcf\u6708"},r.a.createElement(F,{value:"everyDay"},"\u6bcf\u5929"),r.a.createElement(F,{value:"everyWeek"},"\u6bcf\u5468"),r.a.createElement(F,{value:"everyMonth"},"\u6bcf\u6708"))):null})),r.a.createElement(m.a.Item,{label:"\u5907\u6ce8",name:"eventNote",rules:[{required:!1}]},r.a.createElement(N,{rows:2})),r.a.createElement(m.a.Item,D,r.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u5b8c\u6210"))))))},P=a(141),B=a(142),A=a.n(B),M=a(361),V=a(372),q=a(365),J=function(e){var t,a=A.a.mark(m),l=e.tasks,o=e.remove,c=e.punchCard,i=Object(n.useState)(!1),s=Object(g.a)(i,2);s[0],s[1];function m(){var e;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return t.next=4,e++;case 4:t.next=1;break;case 6:case"end":return t.stop()}}),a)}var u=Object(n.useState)(m()),d=Object(g.a)(u,2),f=(d[0],d[1],Object(n.useState)(0)),v=Object(g.a)(f,2);v[0],v[1];return r.a.createElement(M.b,(t={locale:{emptyText:"\u4eca\u65e5\u6682\u65e0\u65e0\u4efb\u52a1"},itemLayout:"horizontal",dataSource:l,header:"".concat(l.length," \u4e2a\u4efb\u52a1")},Object(P.a)(t,"itemLayout","horizontal"),Object(P.a)(t,"renderItem",(function(e){return r.a.createElement(q.a,{key:e.id,timeout:8e3,classNames:"item"},r.a.createElement(M.b.Item,{style:{backgroundColor:"white",padding:"15px",marginBottom:"5px",fontSize:"large",textAlign:"left"},actions:[r.a.createElement(V.a,{defaultChecked:!1,onChange:function(t){t.target.checked&&("shortTermTask"===e.eventType?o(e):c(e))}},"shortTermTask"===e.eventType?"\u5b8c\u6210":"\u6253\u5361")]},r.a.createElement(M.b.Item.Meta,{title:r.a.createElement("p",null,e.eventTitle),description:e.eventNote})))})),t))},z=function(e){var t=e.todayAllTasks,a=e.removeTask,n=e.punchCard;return r.a.createElement("div",{style:{margin:"0 10px",padding:"0 2vw"}},r.a.createElement(J,{tasks:t,remove:a,punchCard:n}))},U=a(366),W=a(356),L=a(375),G=a(188),H=a.n(G),R=b.a.Option,$=(u.a.TextArea,function(e){var t=e.allTasks,a=e.removeTask,l=e.changeTask,o=Object(n.useState)(I()()),s=Object(g.a)(o,2),d=s[0],v=s[1],E=Object(n.useState)({}),p=Object(g.a)(E,2),h=p[0],y=p[1],T=Object(n.useState)(!1),j=Object(g.a)(T,2),w=j[0],C=j[1],x=Object(n.useState)(!1),F=Object(g.a)(x,2),N=F[0],D=F[1],P=m.a.useForm(),B=Object(g.a)(P,1)[0],A={wrapperCol:{offset:18,span:16}};function V(e){return e&&I()(e).isBefore(d,"days")}return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement(M.b,{style:{padding:"10px 0"},header:"\u6240\u6709\u4efb\u52a1",locale:{emptyText:"\u65e0\u4efb\u52a1"},dataSource:t,renderItem:function(e){return r.a.createElement(M.b.Item,{key:e.id,style:{backgroundColor:"#F0FFFF"},actions:[r.a.createElement(L.a,{key:"edit",onClick:function(){C(!0),y(e)}})]},r.a.createElement(M.b.Item.Meta,{title:e.eventTitle}))}})),r.a.createElement(U.a,{width:400,placement:"right",closable:!1,visible:w,onClose:function(){C(!1)},title:r.a.createElement(c.a,null,r.a.createElement(i.a,{span:11,style:{fontSize:"large"}},h.eventTitle),r.a.createElement(W.a,{title:"\u786e\u5b9a\u5220\u9664\u8be5\u4e8b\u9879\u5417?",onConfirm:function(e){alert(JSON.stringify(h)),a(h),C(!1)},onCancel:function(e){},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},r.a.createElement(i.a,{offset:10,style:{fontSize:"small"}},r.a.createElement("a",{style:{textAlign:"right"}},"\u5220\u9664"))))},r.a.createElement(k.a,{tip:"\u66f4\u6539\u4e2d",spinning:N},r.a.createElement(m.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{name:"taskChange",onFinish:function(e){e.id=h.id,D(!0),new Promise((function(t,a){l(e),t()})).then((function(e){D(!1),C(!1)}),(function(e){console.log(e),alert("Fail")}))},onFinishFailed:function(){},form:B}),r.a.createElement(m.a.Item,{label:"\u6807\u9898",name:"eventTitle"},r.a.createElement(u.a,{defaultValue:h.eventTitle})),r.a.createElement(m.a.Item,{label:"\u5f00\u59cb\u65f6\u95f4",name:"eventStartTime"},r.a.createElement(O.a,{disabledDate:function(e){return e&&I()(e).isBefore(I()(),"days")},value:d,defaultValue:I()(h.eventStartTime),onChange:function(e){return v(e)},showToday:!0})),r.a.createElement(m.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.eventType!==t.eventType}},(function(){return"shortTermTask"===h.eventType?r.a.createElement(m.a.Item,{label:"\u7ed3\u675f\u65f6\u95f4",name:"eventEndTime"},r.a.createElement(O.a,{defaultValue:I()(h.eventEndTime),showTime:!0,disabledDate:V})):r.a.createElement(m.a.Item,{label:"\u6253\u5361\u5468\u671f",name:"eventPeriod"},r.a.createElement(b.a,{placeholder:"\u6bcf\u5929/\u6bcf\u5468/\u6bcf\u6708",defaultValue:h.eventPeriod},r.a.createElement(R,{value:"everyDay"},"\u6bcf\u5929"),r.a.createElement(R,{value:"everyWeek"},"\u6bcf\u5468"),r.a.createElement(R,{value:"everyMonth"},"\u6bcf\u6708")))})),r.a.createElement(m.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.eventType!==t.eventType}},(function(){return"shortTermTask"===h.eventType?r.a.createElement(m.a.Item,{label:"\u9884\u4f30\u6240\u9700\u65f6\u957f",name:"eventDuration"},r.a.createElement(S.a,{min:0,step:.5,defaultValue:h.eventDuration})):null})),r.a.createElement(m.a.Item,{label:"\u5907\u6ce8",name:"eventNote"},r.a.createElement(u.a,{defaultValue:h.eventNote})),r.a.createElement(m.a.Item,A,r.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u5b8c\u6210 "))))))}),_=a(369),K=a(357),Q=a(370),X=a(363),Y=a(367),Z=_.a.Header,ee=_.a.Footer,te=_.a.Sider,ae=_.a.Content,ne=function(e){var t=e.punchTimes;var a={width:"25%",textAlign:"center",backgroundColor:"white"};return r.a.createElement(M.b,{dataSource:t,renderItem:function(e){return r.a.createElement(s.a.Grid,{style:a,title:e.eventTitle},r.a.createElement("p",null,e.eventTitle),r.a.createElement(Y.a,{title:(t=e.eventPeriod,"everyDay"===t?"\u4eca\u65e5":"everyWeek"===t?"\u672c\u5468":"everyMonth"===t?"\u672c\u6708":"\u5df2\u6253\u5361"),value:e.times,valueStyle:{color:"#3f8600"},suffix:"\u6b21"}));var t}})},re=function(){var e=Object(n.useState)("\u4eca\u65e5\u5f85\u529e"),t=Object(g.a)(e,2),a=t[0],l=(t[1],Object(n.useState)(x())),o=Object(g.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)(C(x())),m=Object(g.a)(s,2),u=m[0],d=m[1],f=Object(n.useState)(A(x())),v=Object(g.a)(f,2),E=v[0],p=v[1],h=Object(n.useState)(F(x())),b=Object(g.a)(h,2),T=b[0],k=b[1],O=Object(n.useState)(N(x())),S=Object(g.a)(O,2),j=S[0],w=S[1];function C(e){var t=[];return e.forEach((function(e,a,n){"shortTermTask"===e.eventType&&t.push(e)})),t}function x(){return null!=localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("tasks")):[]}function F(e){for(var t=[],a=[],n=0;n<e.length;n++)I()(e[n].eventStartTime).isSameOrBefore(I()(),"days")?t.push(e[n]):a.push(e[n]);return function(e){var t=[],a=[];return e.forEach((function(e,n,r){"shortTermTask"===e.eventType?t.push(e):e.lastTime&&!I()(e.lastTime).isBefore(I()(),"days")||a.push(e)})),t.sort((function(e,t){return I()(e.eventEndTime).subtract(e.eventDuration,"hours").isAfter(I()(t.eventEndTime).subtract(t.eventDuration,"hours"))?-1:1})),a.sort((function(e,t){return e.eventPeriod!==t.eventPeriod?"everyDay"===t.eventPeriod?-1:"everyMonth"===t.eventPeriod?1:"everyMonth"===e.eventPeriod?-1:1:1})),t.concat(a)}(t)}function N(e){for(var t=[],a=0;a<e.length;a++)I()(e[a].eventStartTime).isAfter(I()(),"days")&&t.push(e[a]);return t}function P(e,t){return e.id===t.id}function B(e){var t=T.slice();t.forEach((function(t,a,n){P(t,e)&&n.splice(a,1)})),k(t),i(t.concat(j)),d(C(t.concat(j))),p(A(t.concat(j))),localStorage.removeItem("tasks"),localStorage.setItem("tasks",JSON.stringify(t.concat(j)))}function A(e){var t=[];return e.forEach((function(e){"longTermPlan"===e.eventType&&(e.times||(e.times=0),t.push(e))})),t}return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(Z,{style:{color:"white",height:"10vh",backgroundColor:"#191970"}},a),r.a.createElement(_.a,null,r.a.createElement(te,{style:{color:"white",backgroundColor:"#B0C4DE",padding:"0 10px"},width:250},r.a.createElement($,{allTasks:c,removeTask:B,changeTask:function(e){for(var t=c.slice(),a=0;a<t.length;a++)if(P(e,t[a])){for(var n=Object.keys(e),r=0;r<n.length;r++)void 0!==e[n[r]]&&"id"!==n[r]&&(t[a][n[r]]=e[n[r]]);break}i(t),k(F(t)),w(N(t)),d(C(t)),localStorage.removeItem("tasks"),localStorage.setItem("tasks",JSON.stringify(t))}})),r.a.createElement(ae,{style:{height:"90vh",width:"80vw"}},r.a.createElement(z,{todayAllTasks:T,removeTask:B,punchCard:function(e){for(var t=c.slice(),a=0;a<t.length;a++)P(t[a],e)&&(t[a].times?t[a].times++:t[a].times=1,t[a].lastTime=I()(),alert(t[a].times));k(F(t)),i(t),p(A(t)),localStorage.removeItem("tasks"),localStorage.setItem("tasks",JSON.stringify(t))}})),r.a.createElement(te,{style:{color:"white",backgroundColor:"#B0C4DE",padding:"0 10px"},width:400},r.a.createElement(X.a,{style:{margin:"10px 0"},fullscreen:!1,disabledDate:function(e){return e&&e.isBefore(I()(),"days")},dateCellRender:function(e){for(var t=[],a=0;a<u.length;a++)I()(e).isSame(u[a].eventEndTime,"days")&&t.push(u[a]);return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(K.a,{content:e.eventNote,title:e.eventTitle},r.a.createElement(Q.a,{color:"red"}))})))}}),r.a.createElement(ne,{punchTimes:E}))),r.a.createElement(ee,null,"\u66fc\u5a77\u5236\u4f5c")),r.a.createElement(D,{addTasks:function(e){localStorage.setItem("tasks",JSON.stringify([].concat(Object(y.a)(c),[e]))),i([].concat(Object(y.a)(c),[e])),k(F([].concat(Object(y.a)(c),[e]))),d(C([].concat(Object(y.a)(c),[e])))}}))},le=a(105);var oe=function(){return r.a.createElement(le.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/"},r.a.createElement(h,null)),r.a.createElement(p.a,{path:"/todo"},r.a.createElement(re,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[193,1,2]]]);
//# sourceMappingURL=main.c8bae2eb.chunk.js.map